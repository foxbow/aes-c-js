<html>
  <head>
    <script type="text/javascript" src="../js/ccrypt.js"></script>
  </head>
  <body>
    <script>
    async function doenc () {
      const msg = document.getElementById('msg').value
      const out = document.getElementById('out')
      var res
      try {
        res = await encryptAES(msg)
      } catch (err) {
        window.alert('Encryption failed!')
        console.log(err)
        return
      }
      out.innerHTML = 'res: ' + res
    }

    async function dodec () {
      const enc = document.getElementById('enc').value
      const out = document.getElementById('out')
      var res
      try {
        res = await decryptAES(enc)
      } catch (err) {
        window.alert('Decryption failed!')
        console.log(err)
        return
      }
      out.innerHTML = 'msg: ' + res
    }
    </script>
    <h1>crypter</h1>
    <p>
    Text:
    <input id='msg' type='text' value='This is a super secret text!'>
	</p>
	<p>
	Key:
    <input id='key' type='text' value='password' >
    </p>
    <p>
    Enc:
    <input id='enc' type='text' value='' >
    </p>
    <input type='button' onclick='doenc()' value='enc' >
    <input type='button' onclick='dodec()' value='dec' >
    <p id='out'></p>
  </body>
</html>
